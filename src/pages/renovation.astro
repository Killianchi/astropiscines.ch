---
import PageLayout from '../layouts/PageLayout.astro';
import Container from '../components/ui/Container.astro';
import Button from '../components/ui/Button.astro';
import Card from '../components/ui/Card.astro';
import SectionHeading from '../components/ui/SectionHeading.astro';
import ServiceSchema from '../components/seo/ServiceSchema.astro';
import FAQSchema from '../components/seo/FAQSchema.astro';
import BreadcrumbSchema from '../components/seo/BreadcrumbSchema.astro';
import { pageSEO } from '../utils/seo';

const seo = pageSEO.renovation;

const services = [
  {
    icon: 'üîÑ',
    title: 'Changement de Liner',
    description: 'Remplacement de votre liner us√© ou d√©color√© par un nouveau rev√™tement de qualit√©. Large choix de coloris et de textures pour personnaliser votre bassin.',
    features: ['Liner arm√© 150/100', 'Coloris unis et imprim√©s', 'Frise d√©corative', 'Garantie 10 ans'],
  },
  {
    icon: 'üîç',
    title: 'D√©tection de Fuites',
    description: 'Localisation pr√©cise des fuites gr√¢ce √† nos √©quipements de d√©tection professionnels. Intervention rapide pour limiter les d√©g√¢ts et la perte d\'eau.',
    features: ['D√©tection par gaz traceur', 'Cam√©ra endoscopique', 'Test de pression', 'Rapport d√©taill√©'],
  },
  {
    icon: 'üèóÔ∏è',
    title: 'R√©paration Structurelle',
    description: 'R√©paration des fissures, joints de carrelage, plages ab√Æm√©es et structures fragilis√©es. Nos experts redonnent vie √† votre piscine.',
    features: ['Traitement des fissures', 'R√©fection des joints', 'Renforcement structurel', 'Imperm√©abilisation'],
  },
  {
    icon: '‚ö°',
    title: 'Modernisation Technique',
    description: 'Mise √† jour de vos √©quipements : filtration, pompe, chauffage, √©clairage LED, syst√®me de traitement automatique pour une piscine plus performante.',
    features: ['Filtration derni√®re g√©n√©ration', '√âclairage LED RGB', 'Traitement au sel', 'Pompe √† chaleur'],
  },
];

const beforeAfter = [
  { label: 'Liner fissur√©', before: 'Liner d√©color√© et fissur√© apr√®s 15 ans', after: 'Nouveau liner arm√© gris anthracite' },
  { label: 'Carrelage d√©grad√©', before: 'Carrelage d√©coll√© et joints noircis', after: 'Mosa√Øque neuve avec joints √©poxy' },
  { label: 'Local technique v√©tuste', before: '√âquipements obsol√®tes et √©nergivores', after: 'Installation moderne et √©conomique' },
];

const faqItems = [
  { question: 'Quand faut-il r√©nover sa piscine ?', answer: 'Les signes principaux sont : un liner qui se d√©colore ou se d√©colle, des fuites r√©currentes, une filtration bruyante ou inefficace, des fissures visibles sur la structure, ou simplement l\'envie de moderniser votre bassin. En g√©n√©ral, un liner doit √™tre remplac√© tous les 10 √† 15 ans.' },
  { question: 'Combien co√ªte une r√©novation de piscine ?', answer: 'Le co√ªt d√©pend de l\'√©tendue des travaux. Un simple changement de liner co√ªte entre 5 000 et 15 000 CHF selon la taille du bassin. Une r√©novation compl√®te (structure + rev√™tement + √©quipements) peut aller de 20 000 √† 60 000 CHF. Nous √©tablissons un devis gratuit apr√®s diagnostic.' },
  { question: 'Combien de temps dure une r√©novation ?', answer: 'Un changement de liner prend 3 √† 5 jours. Une r√©novation structurelle avec modernisation compl√®te peut n√©cessiter 2 √† 4 semaines. Nous planifions les travaux en basse saison (automne/hiver) pour que votre piscine soit pr√™te pour l\'√©t√©.' },
  { question: 'Peut-on changer la forme de sa piscine lors d\'une r√©novation ?', answer: 'Oui, il est possible de modifier la forme, d\'ajouter des escaliers, une banquette immerg√©e ou de modifier la profondeur. Ces travaux structurels n√©cessitent toutefois un budget plus cons√©quent et un d√©lai plus long.' },
];
---
<PageLayout
  title={`${seo.title} | Astro Piscines`}
  description={seo.description}
  heroTitle="R√©novation de Piscines"
  heroSubtitle="Redonnez vie √† votre piscine avec nos experts. Liner, structure, √©quipements : nous intervenons √† chaque √©tape pour un r√©sultat impeccable."
>
  <ServiceSchema
    slot="schema"
    name="R√©novation de Piscines"
    description={seo.description}
    url="/renovation/"
  />
  <BreadcrumbSchema slot="schema" />
  <FAQSchema slot="schema" items={faqItems} />

  <!-- Services de r√©novation -->
  <section class="py-20">
    <Container>
      <SectionHeading
        title="Nos Services de R√©novation"
        subtitle="Une expertise compl√®te pour restaurer, moderniser et embellir votre piscine existante."
      />
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        {services.map((service) => (
          <Card class="p-8">
            <div class="text-4xl mb-4">{service.icon}</div>
            <h3 class="text-2xl font-heading font-bold text-pool-deep mb-3">{service.title}</h3>
            <p class="text-gray-600 mb-6">{service.description}</p>
            <ul class="space-y-2">
              {service.features.map((feature) => (
                <li class="flex items-center text-sm text-gray-700">
                  <svg class="w-5 h-5 text-gold mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                  </svg>
                  {feature}
                </li>
              ))}
            </ul>
          </Card>
        ))}
      </div>
    </Container>
  </section>

  <!-- Processus de r√©novation -->
  <section class="py-20 bg-pool-surface">
    <Container>
      <SectionHeading
        title="Notre Processus"
        subtitle="Un accompagnement √©tape par √©tape pour une r√©novation r√©ussie."
      />
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
        {[
          { step: '01', title: 'Diagnostic', desc: 'Inspection compl√®te de votre piscine : structure, rev√™tement, √©quipements et canalisations.' },
          { step: '02', title: 'Devis D√©taill√©', desc: 'Proposition technique et financi√®re claire, avec diff√©rentes options adapt√©es √† votre budget.' },
          { step: '03', title: 'Travaux', desc: 'R√©alisation par nos √©quipes qualifi√©es, dans le respect des d√©lais et des normes en vigueur.' },
          { step: '04', title: 'R√©ception', desc: 'Mise en eau, tests de fonctionnement et remise de la documentation compl√®te.' },
        ].map((item) => (
          <div class="text-center">
            <div class="w-16 h-16 bg-pool-deep text-white rounded-full flex items-center justify-center text-xl font-heading font-bold mx-auto mb-4">
              {item.step}
            </div>
            <h3 class="text-xl font-heading font-bold text-pool-deep mb-2">{item.title}</h3>
            <p class="text-gray-600 text-sm">{item.desc}</p>
          </div>
        ))}
      </div>
    </Container>
  </section>

  <!-- Avant / Apr√®s -->
  <section class="py-20">
    <Container>
      <SectionHeading
        title="Avant / Apr√®s"
        subtitle="D√©couvrez les transformations r√©alis√©es par nos √©quipes."
      />
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        {beforeAfter.map((item) => (
          <Card class="overflow-hidden">
            <div class="grid grid-cols-2">
              <div class="bg-gray-200 aspect-square flex items-center justify-center p-4">
                <div class="text-center">
                  <p class="text-xs uppercase tracking-wider text-gray-500 mb-1">Avant</p>
                  <p class="text-sm text-gray-600">{item.before}</p>
                </div>
              </div>
              <div class="bg-pool-surface aspect-square flex items-center justify-center p-4">
                <div class="text-center">
                  <p class="text-xs uppercase tracking-wider text-pool-deep mb-1">Apr√®s</p>
                  <p class="text-sm text-pool-deep">{item.after}</p>
                </div>
              </div>
            </div>
            <div class="p-4 text-center">
              <h3 class="font-heading font-bold text-pool-deep">{item.label}</h3>
            </div>
          </Card>
        ))}
      </div>
    </Container>
  </section>

  <!-- FAQ -->
  <section class="py-20 bg-gray-50">
    <Container>
      <SectionHeading
        title="Questions Fr√©quentes"
        subtitle="Tout savoir sur la r√©novation de votre piscine."
      />
      <div class="max-w-3xl mx-auto space-y-6">
        {faqItems.map((item) => (
          <Card class="p-6" hover={false}>
            <h3 class="text-lg font-heading font-bold text-pool-deep mb-2">{item.question}</h3>
            <p class="text-gray-600">{item.answer}</p>
          </Card>
        ))}
      </div>
    </Container>
  </section>

  <!-- CTA -->
  <section class="py-20 bg-gradient-to-br from-pool-deep to-pool-medium">
    <Container>
      <div class="text-center">
        <h2 class="text-3xl md:text-4xl font-heading font-bold text-white mb-4">
          Votre piscine m√©rite une seconde jeunesse
        </h2>
        <p class="text-pool-surface text-lg mb-8 max-w-2xl mx-auto">
          Demandez un diagnostic gratuit et recevez un devis personnalis√© pour la r√©novation de votre piscine.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <Button href="/contact/" variant="primary" size="lg">Demander un diagnostic</Button>
          <Button href="/configurateur/" variant="ghost" size="lg" class="border-white text-white hover:bg-white hover:text-pool-deep">Configurateur en ligne</Button>
        </div>
      </div>
    </Container>
  </section>
</PageLayout>
