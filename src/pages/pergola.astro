---
import PageLayout from '../layouts/PageLayout.astro';
import Container from '../components/ui/Container.astro';
import Button from '../components/ui/Button.astro';
import Card from '../components/ui/Card.astro';
import SectionHeading from '../components/ui/SectionHeading.astro';
import ServiceSchema from '../components/seo/ServiceSchema.astro';
import FAQSchema from '../components/seo/FAQSchema.astro';
import BreadcrumbSchema from '../components/seo/BreadcrumbSchema.astro';
import { pageSEO } from '../utils/seo';

const seo = pageSEO.pergola;

const advantages = [
  { icon: '‚òÄÔ∏è', title: 'Protection Solaire', desc: 'Lames orientables de 0 a 135 degres pour doser la lumi√®re et l\'ombre selon vos envies. Prot√©gez-vous du soleil sans renoncer √† la clart√©.' },
  { icon: 'üåßÔ∏è', title: 'Protection Pluie', desc: 'En position ferm√©e, les lames assurent une parfaite √©tanch√©it√©. Profitez de votre terrasse m√™me par temps de pluie, avec √©vacuation d\'eau int√©gr√©e.' },
  { icon: 'üå¨Ô∏è', title: 'Ventilation Naturelle', desc: 'Les lames orientables permettent une ventilation naturelle optimale. L\'air circule librement, √©vitant l\'effet de serre des toitures traditionnelles.' },
  { icon: 'üè†', title: 'Valorisation Immobili√®re', desc: 'Une pergola bioclimatique augmente la surface habitable de votre bien et valorise votre propri√©t√©. Un investissement durable et √©l√©gant.' },
];

const options = [
  { title: 'Stores Verticaux', desc: 'Stores ZIP lat√©raux pour une protection compl√®te contre le vent, le soleil rasant et les regards. Toile micro-perfor√©e ou occultante.' },
  { title: '√âclairage LED', desc: '√âclairage int√©gr√© dans les lames, les poteaux ou en bandeau. Variateur d\'intensit√© et choix de temp√©rature de couleur.' },
  { title: 'Chauffage', desc: 'Radiants infrarouges encastr√©s dans la structure pour profiter de votre pergola m√™me les soirs d\'automne et de printemps.' },
  { title: 'Brumisation', desc: 'Syst√®me de brumisation int√©gr√© pour rafra√Æchir l\'air sous la pergola de 5 √† 10 degres pendant les journ√©es chaudes.' },
  { title: 'Motorisation', desc: 'Ouverture et fermeture motoris√©e des lames, pilotable par t√©l√©commande, interrupteur mural ou application smartphone.' },
  { title: 'Capteurs M√©t√©o', desc: 'Station m√©t√©o int√©gr√©e avec capteurs de pluie, vent et soleil. Fermeture automatique des lames en cas d\'intemp√©ries.' },
];

const materials = [
  { title: 'Aluminium Laqu√©', desc: 'Structure en aluminium thermolaqu√©, disponible dans plus de 200 coloris RAL. R√©sistant √† la corrosion, l√©ger et ne n√©cessitant aucun entretien.' },
  { title: 'Lames Orientables', desc: 'Lames en aluminium extrud√© de 200 ou 250 mm, remplies de mousse isolante. Rotation motoris√©e de 0 a 135 degres pour un contr√¥le total de la lumi√®re.' },
  { title: 'Goutti√®res Int√©gr√©es', desc: 'Syst√®me d\'√©vacuation d\'eau de pluie int√©gr√© dans les poteaux. Invisible de l\'ext√©rieur, raccordable au r√©seau d\'eaux pluviales.' },
];

const faqItems = [
  { question: 'Faut-il un permis de construire pour une pergola ?', answer: 'En Suisse, une pergola bioclimatique n√©cessite g√©n√©ralement une autorisation de construire si elle d√©passe 10 m2 ou si elle est attenante √† la maison. Les r√®gles varient selon les cantons et les communes. Nous nous chargeons de constituer le dossier d\'autorisation pour vous.' },
  { question: 'Quelles dimensions sont possibles ?', answer: 'Nos pergolas sont enti√®rement sur mesure. Les dimensions courantes vont de 3x3 m √† 7x5 m en un seul module. Pour les plus grands espaces, nous assemblons plusieurs modules. La port√©e libre (sans poteau interm√©diaire) peut atteindre 7 m√®tres.' },
  { question: 'La pergola r√©siste-t-elle √† la neige et au vent ?', answer: 'Nos pergolas sont calcul√©es selon les normes suisses SIA pour r√©sister aux charges de neige et de vent de votre r√©gion. En standard, elles supportent 150 kg/m2 de neige et des vents jusqu\'√† 120 km/h. Les capteurs m√©t√©o ferment automatiquement les lames en cas de neige.' },
  { question: 'Quel est le d√©lai de r√©alisation ?', answer: 'Comptez 6 √† 8 semaines entre la commande et l\'installation. La fabrication est r√©alis√©e sur mesure en usine (4-6 semaines), puis l\'installation sur site prend 2 √† 3 jours selon la complexit√© du projet.' },
];
---
<PageLayout
  title={`${seo.title} | Astro Piscines`}
  description={seo.description}
  heroTitle="Pergolas Bioclimatiques"
  heroSubtitle="Des pergolas √† lames orientables sur mesure pour profiter de votre terrasse et de votre piscine en toute saison. Design, confort et technologie."
>
  <ServiceSchema
    slot="schema"
    name="Pergolas Bioclimatiques"
    description={seo.description}
    url="/pergola/"
  />
  <BreadcrumbSchema slot="schema" />
  <FAQSchema slot="schema" items={faqItems} />

  <!-- Avantages -->
  <section class="py-20">
    <Container>
      <SectionHeading
        title="Les Avantages d'une Pergola Bioclimatique"
        subtitle="Une solution architecturale intelligente qui s'adapte √† la m√©t√©o et √† vos envies."
      />
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
        {advantages.map((item) => (
          <div class="text-center">
            <div class="text-4xl mb-4">{item.icon}</div>
            <h3 class="text-xl font-heading font-bold text-pool-deep mb-2">{item.title}</h3>
            <p class="text-gray-600 text-sm">{item.desc}</p>
          </div>
        ))}
      </div>
    </Container>
  </section>

  <!-- Mat√©riaux et structure -->
  <section class="py-20 bg-pool-surface">
    <Container>
      <SectionHeading
        title="Structure et Mat√©riaux"
        subtitle="Une construction robuste et √©l√©gante, con√ßue pour durer des d√©cennies."
      />
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        {materials.map((material) => (
          <Card class="p-8">
            <h3 class="text-xl font-heading font-bold text-pool-deep mb-3">{material.title}</h3>
            <p class="text-gray-600">{material.desc}</p>
          </Card>
        ))}
      </div>
    </Container>
  </section>

  <!-- Options -->
  <section class="py-20">
    <Container>
      <SectionHeading
        title="Options et Personnalisation"
        subtitle="Composez la pergola qui correspond parfaitement √† votre mode de vie."
      />
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {options.map((option) => (
          <Card class="p-6">
            <h3 class="text-lg font-heading font-bold text-pool-deep mb-2">{option.title}</h3>
            <p class="text-gray-600 text-sm">{option.desc}</p>
          </Card>
        ))}
      </div>
    </Container>
  </section>

  <!-- Pergola + Piscine -->
  <section class="py-20 bg-pool-surface">
    <Container>
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
        <div>
          <SectionHeading
            title="Pergola & Piscine"
            subtitle="Le duo parfait pour votre espace ext√©rieur."
            align="left"
          />
          <p class="text-gray-600 mb-6">
            Associer une pergola bioclimatique √† votre piscine, c'est cr√©er un v√©ritable espace de vie ext√©rieur. Prot√©gez vos bains de soleil, cr√©ez un coin repas ombrag√© au bord de l'eau, ou am√©nagez un salon d'ext√©rieur confortable.
          </p>
          <p class="text-gray-600 mb-6">
            Nos architectes con√ßoivent des projets int√©gr√©s o√π pergola et piscine forment un ensemble harmonieux. Les mat√©riaux, les couleurs et les lignes sont pens√©s pour se compl√©ter.
          </p>
          <ul class="space-y-3 mb-8">
            {[
              'Espace repas prot√©g√© au bord de la piscine',
              'Zone de d√©tente ombrag√©e pour les bains de soleil',
              'Douche ext√©rieure int√©gr√©e sous la pergola',
              '√âclairage coordonn√© pergola et piscine',
            ].map((item) => (
              <li class="flex items-center text-gray-700">
                <svg class="w-5 h-5 text-gold mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                </svg>
                {item}
              </li>
            ))}
          </ul>
          <Button href="/contact/" variant="secondary">Discuter de votre projet</Button>
        </div>
        <div class="bg-gradient-to-br from-pool-deep/10 to-pool-medium/10 rounded-2xl aspect-video flex items-center justify-center">
          <p class="text-pool-deep/40 font-heading text-lg">Photo pergola et piscine</p>
        </div>
      </div>
    </Container>
  </section>

  <!-- FAQ -->
  <section class="py-20">
    <Container>
      <SectionHeading
        title="Questions Fr√©quentes"
        subtitle="Tout savoir sur nos pergolas bioclimatiques."
      />
      <div class="max-w-3xl mx-auto space-y-6">
        {faqItems.map((item) => (
          <Card class="p-6" hover={false}>
            <h3 class="text-lg font-heading font-bold text-pool-deep mb-2">{item.question}</h3>
            <p class="text-gray-600">{item.answer}</p>
          </Card>
        ))}
      </div>
    </Container>
  </section>

  <!-- CTA -->
  <section class="py-20 bg-gradient-to-br from-pool-deep to-pool-medium">
    <Container>
      <div class="text-center">
        <h2 class="text-3xl md:text-4xl font-heading font-bold text-white mb-4">
          Votre pergola sur mesure
        </h2>
        <p class="text-pool-surface text-lg mb-8 max-w-2xl mx-auto">
          Demandez une √©tude gratuite et d√©couvrez comment une pergola bioclimatique peut transformer votre ext√©rieur.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <Button href="/contact/" variant="primary" size="lg">√âtude gratuite</Button>
          <Button href="/configurateur/" variant="ghost" size="lg" class="border-white text-white hover:bg-white hover:text-pool-deep">Configurateur en ligne</Button>
        </div>
      </div>
    </Container>
  </section>
</PageLayout>
