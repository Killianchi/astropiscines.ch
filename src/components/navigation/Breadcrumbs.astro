---
const pathname = Astro.url.pathname;
const segments = pathname.split('/').filter(Boolean);

const breadcrumbs = [
  { label: 'Accueil', href: '/' },
  ...segments.map((seg, i) => ({
    label: seg
      .replace(/-/g, ' ')
      .replace(/\b\w/g, (c) => c.toUpperCase()),
    href: '/' + segments.slice(0, i + 1).join('/') + '/',
  })),
];
---
<nav aria-label="Breadcrumb">
  <ol class="flex items-center gap-2 text-sm text-pool-surface/80">
    {breadcrumbs.map((crumb, i) => (
      <li class="flex items-center gap-2">
        {i > 0 && <span class="text-pool-surface/50">/</span>}
        {i < breadcrumbs.length - 1 ? (
          <a href={crumb.href} class="hover:text-white transition-colors">{crumb.label}</a>
        ) : (
          <span class="text-white font-medium">{crumb.label}</span>
        )}
      </li>
    ))}
  </ol>
</nav>
